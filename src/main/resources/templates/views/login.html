<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.thymeleaf.org">
<head>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0" />
<meta name="description" content="" />
<meta name="author" content="Zubayer Ahamed" />
<meta name="keyword" content="Hisab, Accounting Software" />
<link rel="shortcut icon" th:href="@{/img/favicon.html}" />
<title th:text="#{page.title.login}">Login</title>
<!-- <link th:href="@{/css/bootstrap.min.css}" rel="stylesheet"/>
<link th:href="@{/css/bootstrap-reset.css}" rel="stylesheet"/>
<link th:href="@{/assets/font-awesome/css/font-awesome.css}" rel="stylesheet" />
<link th:href="@{/css/style.css}" rel="stylesheet"/>
<link th:href="@{/css/style-responsive.css}" rel="stylesheet" /> -->
<meta th:substituteby="commons :: common-css"></meta>
</head>
<body class="login-body">

	<div class="container">

		<div class="row">
			<div class="col-md-12">
				<div th:if="${param.error}" id="error-alert" class="alert alert-danger alert-dismissable">
					<a href="#" class="close" data-dismiss="alert" aria-label="close">&times;</a> 
					<strong>Invalid username or password</strong>
				</div>
				<div th:if="${param.logout}" id="success-alert" class="alert alert-success alert-dismissable">
					<a href="#" class="close" data-dismiss="alert" aria-label="close">&times;</a>
					<strong>You have been logged out</strong>
				</div>
			</div>
		</div>

		<form class="form-signin" th:action="@{/login}" method="post">
			<h2 class="form-signin-heading">sign in now</h2>
			<div class="login-wrap">
				<input type="text" name="username" class="form-control" placeholder="Username" autofocus="autofocus"/>
				<input type="password" name="password" class="form-control" placeholder="Password"/> 
				<label class="checkbox"> 
					<input type="checkbox" value="remember-me"/> Remember me 
					<span class="pull-right"> 
						<a data-toggle="modal" href="#myModal">Forgot Password?</a>
					</span>
				</label>
				<button class="btn btn-lg btn-login btn-block" type="submit">Signin</button>
				<p>or you can sign in via social network</p>
				<div class="login-social-link">
					<a href="index-2.html" class="facebook"> <i class="fa fa-facebook"></i> Facebook </a> 
					<a href="index-2.html" class="twitter"> <i class="fa fa-twitter"></i> Twitter </a>
				</div>
				<div class="registration">
					Don't have an account yet? <a class="" data-toggle="modal" href="#registerModal"> Create an account </a>
				</div>
			</div>
		</form>
	</div>


	<!-- modals -->
	<span th:substituteby="views/register-modal :: register-modal"></span>

	<!-- js  -->
	<span th:substituteby="commons :: common-js"></span>
	<script th:src="@{/js/form-component.js}"></script>
	
	<!-- login and register script -->
	<script type="text/javascript">
		$(document).ready(function(){
			$('.register').on('click', function(){
				var formData = $('.register-form').serializeArray();
				var validateSuccess = true;

				//check input field value
				$.each(formData, function(index, item){
					var attr = $('#' + item.name).attr('required');
					if(typeof attr !== typeof undefined){
						if(attr !== false){
							if(item.value == ''){
								$('#' + item.name).addClass('required');
								validateSuccess = false;
							}else{
								$('#' + item.name).removeClass('required');
							}
						}
					}
				})

				var registerUrl = $('.register-form').attr('action');

				if(validateSuccess == true){
					$.post(registerUrl, formData, function(data, status){
						//console.log(status);
						console.log(data);
					});
				}
			});
		});
	</script>
</body>
</html>
